const e=document.querySelector(".burger-btn"),t=document.querySelector(".burger-menu"),c=document.querySelector(".backdrop-burger"),o=document.body;function s(i){i.preventDefault(),o.classList.add("_lock"),c.classList.add("active-burger"),o.addEventListener("keyup",a),c.addEventListener("click",r),e.classList.add("_active"),t.classList.add("_active"),e.removeEventListener("click",s),e.addEventListener("click",n)}function n(i){i&&i.preventDefault(),o.classList.remove("_lock"),c.classList.remove("active-burger"),o.removeEventListener("keyup",a),c.removeEventListener("click",r),e.classList.remove("_active"),t.classList.remove("_active"),e.removeEventListener("click",n),e.addEventListener("click",s)}function a(e){27==e.keyCode&&n()}function r(e){e.target===e.currentTarget&&n()}e&&e.addEventListener("click",s);const i=e=>e.split("/").pop().split(".")[0];let l=i(location.pathname);if(""===l)document.querySelector(".burger-menu__list").firstElementChild.classList.add("active");else{const e=document.querySelectorAll(".main-navigation a, .burger-menu a");for(let t of e)i(t.href)===l&&t.parentElement.classList.add("active");document.querySelectorAll(".main-navigation__dropdown-item").forEach((e=>{e.classList.contains("active")&&e.closest(".main-navigation__item").classList.add("active")}))}"contacts"===l&&document.querySelector(".main-navigation__item > .contact-us-btn").classList.add("disable-component");const d=e=>e.split("/").pop().split(".")[0],u=d(location.pathname),m=document.querySelectorAll(".footer a");for(let e of m)d(e.href)===u&&e.parentElement.classList.add("active");async function v(e){return fetch("https://events.sendpulse.com/events/id/ecc62b30695e496ddd8b5bc361a4afc5/8268220",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json()))}const p={contactUsButtons:document.querySelectorAll(".js-btn-modal"),backdropQuestion:document.querySelector(".question"),backdropSuccess:document.querySelector(".success"),backdropDuplicate:document.querySelector(".duplicate"),backdropFail:document.querySelector(".fail"),closeBtn:document.querySelector(".contact-modal__close-btn"),contactUsSubmit:document.querySelector(".modal-submit"),form:document.querySelector(".question-form"),body:document.body,inputNameBlock:document.querySelector(".contact-modal__input-wrap--first"),inputContactBlock:document.querySelector(".contact-modal__input-wrap--second"),errorMessage:document.querySelector(".error-message")};function b(e){console.log(e),p.contactUsSubmit.removeAttribute("disabled"),p.errorMessage.classList.value.includes("visually-hidden")||e!==p.backdropQuestion||p.errorMessage.classList.add("visually-hidden"),p.body.classList.add("_lock"),e.classList.add("active-modal"),p.body.addEventListener("keyup",f),e.addEventListener("click",L),console.log("open")}function y(e){p.body.classList.remove("_lock"),p.backdropQuestion.classList.remove("active-modal"),p.body.removeEventListener("keyup",f),p.backdropQuestion.removeEventListener("click",L)}function f(e){27==e.keyCode&&y()}function L(e){e.target===e.currentTarget&&y()}if(p.contactUsButtons.length>0)for(let e=0;e<p.contactUsButtons.length;e++){p.contactUsButtons[e].addEventListener("click",(()=>b(p.backdropQuestion)))}p.closeBtn.addEventListener("click",y),p.form.addEventListener("submit",(async function(e){e.preventDefault();const t=e.currentTarget.elements[0].value,c=e.currentTarget.elements[1].value,o=(a=c,g.test(a)),s=(n=c,k.test(n));var n;var a;if(o||s){p.contactUsSubmit.setAttribute("disabled","disabled");const e={name:t,phone:s?c:"",email:o?c:""},n=await v(e);if(console.log(n.result,n),y(),n.result)return void b(p.backdropSuccess);if(!n.result&&"Duplicate data"===n.message)return void b(p.backdropDuplicate);if(!n.result&&"Duplicate data"!==n.message)return void b(p.backdropFail)}p.errorMessage.classList.remove("visually-hidden"),p.contactUsSubmit.removeAttribute("disabled")}));const k=/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/,g=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
//# sourceMappingURL=about.0c8aa1f9.js.map
